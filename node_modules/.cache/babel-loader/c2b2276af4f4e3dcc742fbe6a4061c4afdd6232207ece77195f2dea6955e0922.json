{"ast":null,"code":"import React from\"react\";function useLocalStorage(itemName,initialValue){const[item,setItem]=React.useState(initialValue);const[loading,setLoading]=React.useState(true);const[error,setError]=React.useState(false);React.useEffect(()=>{setTimeout(()=>{try{const localStorageItem=localStorage.getItem(itemName);let parsedItem;if(!localStorageItem){localStorage.setItem(itemName,JSON.stringify(initialValue));parsedItem=initialValue;}else{parsedItem=JSON.parse(localStorageItem);setItem(parsedItem);}setLoading(false);}catch(error){setLoading(false);setError(true);}},2000);},[itemName,initialValue]);const saveItem=newItem=>{localStorage.setItem(itemName,JSON.stringify(newItem));setItem(newItem);};return{item,saveItem,loading,error};}export{useLocalStorage};// localStorage.removeItem(\"TODOS_V1\");\n// const defaultTodos = [\n//   { text: 'cortar cebolla', completed: true },\n//   { text: 'tomar el curso de react.js', completed: false },\n//   { text: 'llorar con la llorona', completed: false },\n//   { text: 'BLA bla bla', completed: false },\n//   { text: 'usar estados derivados', completed: true },\n// ]\n// localStorage.setItem(\"TODOS_V1\" , JSON.stringify(defaultTodos));","map":{"version":3,"names":["React","useLocalStorage","itemName","initialValue","item","setItem","useState","loading","setLoading","error","setError","useEffect","setTimeout","localStorageItem","localStorage","getItem","parsedItem","JSON","stringify","parse","saveItem","newItem"],"sources":["/Users/juanbueno/Desktop/new project react/src/TodoContext/useLocalStorage.js"],"sourcesContent":["import React from \"react\";\n\n  function useLocalStorage(itemName, initialValue) {\n    const [item, setItem] = React.useState(initialValue);\n    const [loading, setLoading] = React.useState(true);\n    const [error, setError] = React.useState(false);\n    \n    React.useEffect(() => {\n      setTimeout(() => {\n        try {\n          const localStorageItem = localStorage.getItem(itemName);\n  \n          let parsedItem;\n  \n          if (!localStorageItem) {\n            localStorage.setItem(itemName, JSON.stringify(initialValue));\n            parsedItem = initialValue;\n          } else {\n            parsedItem = JSON.parse(localStorageItem);\n            setItem(parsedItem);\n          }\n          setLoading(false);\n        } catch (error) {\n          setLoading(false);\n          setError(true);\n        }\n      }, 2000);\n    }, [itemName, initialValue]);\n  \n    const saveItem = (newItem) => {\n      localStorage.setItem(itemName, JSON.stringify(newItem));\n      setItem(newItem);\n    };\n  \n    return {\n      item,\n      saveItem,\n      loading,\n      error\n    };\n  }\n  \n  export { useLocalStorage };\n\n// localStorage.removeItem(\"TODOS_V1\");\n// const defaultTodos = [\n//   { text: 'cortar cebolla', completed: true },\n//   { text: 'tomar el curso de react.js', completed: false },\n//   { text: 'llorar con la llorona', completed: false },\n//   { text: 'BLA bla bla', completed: false },\n//   { text: 'usar estados derivados', completed: true },\n// ]\n\n// localStorage.setItem(\"TODOS_V1\" , JSON.stringify(defaultTodos));"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEvB,QAAS,CAAAC,eAAeA,CAACC,QAAQ,CAAEC,YAAY,CAAE,CAC/C,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGL,KAAK,CAACM,QAAQ,CAACH,YAAY,CAAC,CACpD,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAGR,KAAK,CAACM,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACG,KAAK,CAAEC,QAAQ,CAAC,CAAGV,KAAK,CAACM,QAAQ,CAAC,KAAK,CAAC,CAE/CN,KAAK,CAACW,SAAS,CAAC,IAAM,CACpBC,UAAU,CAAC,IAAM,CACf,GAAI,CACF,KAAM,CAAAC,gBAAgB,CAAGC,YAAY,CAACC,OAAO,CAACb,QAAQ,CAAC,CAEvD,GAAI,CAAAc,UAAU,CAEd,GAAI,CAACH,gBAAgB,CAAE,CACrBC,YAAY,CAACT,OAAO,CAACH,QAAQ,CAAEe,IAAI,CAACC,SAAS,CAACf,YAAY,CAAC,CAAC,CAC5Da,UAAU,CAAGb,YAAY,CAC3B,CAAC,IAAM,CACLa,UAAU,CAAGC,IAAI,CAACE,KAAK,CAACN,gBAAgB,CAAC,CACzCR,OAAO,CAACW,UAAU,CAAC,CACrB,CACAR,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAOC,KAAK,CAAE,CACdD,UAAU,CAAC,KAAK,CAAC,CACjBE,QAAQ,CAAC,IAAI,CAAC,CAChB,CACF,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CAAE,CAACR,QAAQ,CAAEC,YAAY,CAAC,CAAC,CAE5B,KAAM,CAAAiB,QAAQ,CAAIC,OAAO,EAAK,CAC5BP,YAAY,CAACT,OAAO,CAACH,QAAQ,CAAEe,IAAI,CAACC,SAAS,CAACG,OAAO,CAAC,CAAC,CACvDhB,OAAO,CAACgB,OAAO,CAAC,CAClB,CAAC,CAED,MAAO,CACLjB,IAAI,CACJgB,QAAQ,CACRb,OAAO,CACPE,KACF,CAAC,CACH,CAEA,OAASR,eAAe,EAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}