{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from 'react';\nfunction useLocalStorage(itemName, initialValue) {\n  _s();\n  const [state, dispatch] = React.useReducer(reducer, initial);\n  const [sincronizedItem, setsincronizedItem] = React.useState(true);\n  const [error, setError] = React.useState(false);\n  const [loading, setLoading] = React.useState(true);\n  const [item, setItem] = React.useState(initialValue);\n  React.useEffect(() => {\n    setTimeout(() => {\n      try {\n        const localStorageItem = localStorage.getItem(itemName);\n        let parsedItem;\n        if (!localStorageItem) {\n          localStorage.setItem(itemName, JSON.stringify(initialValue));\n          parsedItem = initialValue;\n        } else {\n          parsedItem = JSON.parse(localStorageItem);\n        }\n        setItem(parsedItem);\n        setLoading(false);\n        setsincronizedItem(true);\n      } catch (error) {\n        setError(error);\n      }\n    }, 3000);\n  }, [sincronizedItem]);\n  const saveItem = newItem => {\n    try {\n      const stringifiedItem = JSON.stringify(newItem);\n      localStorage.setItem(itemName, stringifiedItem);\n      setItem(newItem);\n    } catch (error) {\n      setError(error);\n    }\n  };\n  const sincronizeItem = () => {\n    setLoading(true);\n    setsincronizedItem(false);\n  };\n  return {\n    item,\n    saveItem,\n    loading,\n    error,\n    sincronizeItem\n  };\n}\n_s(useLocalStorage, \"ECktW8Omw7wz2wN4KBGoz1SBYhA=\");\nexport { useLocalStorage };\n\n// localStorage.removeItem(\"TODOS_V1\");\n// const defaultTodos = [\n//   { text: 'cortar cebolla', completed: true },\n//   { text: 'tomar el curso de react.js', completed: false },\n//   { text: 'llorar con la llorona', completed: false },\n//   { text: 'BLA bla bla', completed: false },\n//   { text: 'usar estados derivados', completed: true },\n// ]\n\n// localStorage.setItem(\"TODOS_V1\" , JSON.stringify(defaultTodos));","map":{"version":3,"names":["React","useLocalStorage","itemName","initialValue","_s","state","dispatch","useReducer","reducer","initial","sincronizedItem","setsincronizedItem","useState","error","setError","loading","setLoading","item","setItem","useEffect","setTimeout","localStorageItem","localStorage","getItem","parsedItem","JSON","stringify","parse","saveItem","newItem","stringifiedItem","sincronizeItem"],"sources":["/Users/juanbueno/Desktop/new-project-react/src/App/useLocalStorage.js"],"sourcesContent":["import React from 'react';\n\nfunction useLocalStorage(itemName, initialValue) {\n  const [state, dispatch] = React.useReducer(reducer, initial)\n\n  const [sincronizedItem, setsincronizedItem] = React.useState(true);\n  const [error, setError] = React.useState(false);\n  const [loading, setLoading] = React.useState(true);\n  const [item, setItem] = React.useState(initialValue);\n\n  React.useEffect(() => {\n    setTimeout(() => {\n      try {\n        const localStorageItem = localStorage.getItem(itemName);\n        let parsedItem;\n\n        if (!localStorageItem) {\n          localStorage.setItem(itemName, JSON.stringify(initialValue));\n          parsedItem = initialValue;\n        } else {\n          parsedItem = JSON.parse(localStorageItem);\n        }\n\n        setItem(parsedItem);\n        setLoading(false);\n        setsincronizedItem(true);\n      } catch (error) {\n        setError(error);\n      }\n    }, 3000);\n  }, [sincronizedItem]);\n\n  const saveItem = (newItem) => {\n    try {\n      const stringifiedItem = JSON.stringify(newItem);\n      localStorage.setItem(itemName, stringifiedItem);\n      setItem(newItem);\n    } catch (error) {\n      setError(error);\n    }\n  };\n\n  const sincronizeItem = () => {\n    setLoading(true);\n    setsincronizedItem(false);\n  }\n\n  return {\n    item,\n    saveItem,\n    loading,\n    error,\n    sincronizeItem,\n  };\n}\n\nexport { useLocalStorage };\n\n// localStorage.removeItem(\"TODOS_V1\");\n// const defaultTodos = [\n//   { text: 'cortar cebolla', completed: true },\n//   { text: 'tomar el curso de react.js', completed: false },\n//   { text: 'llorar con la llorona', completed: false },\n//   { text: 'BLA bla bla', completed: false },\n//   { text: 'usar estados derivados', completed: true },\n// ]\n\n// localStorage.setItem(\"TODOS_V1\" , JSON.stringify(defaultTodos));"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,eAAeA,CAACC,QAAQ,EAAEC,YAAY,EAAE;EAAAC,EAAA;EAC/C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,KAAK,CAACO,UAAU,CAACC,OAAO,EAAEC,OAAO,CAAC;EAE5D,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGX,KAAK,CAACY,QAAQ,CAAC,IAAI,CAAC;EAClE,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGd,KAAK,CAACY,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAGhB,KAAK,CAACY,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACK,IAAI,EAAEC,OAAO,CAAC,GAAGlB,KAAK,CAACY,QAAQ,CAACT,YAAY,CAAC;EAEpDH,KAAK,CAACmB,SAAS,CAAC,MAAM;IACpBC,UAAU,CAAC,MAAM;MACf,IAAI;QACF,MAAMC,gBAAgB,GAAGC,YAAY,CAACC,OAAO,CAACrB,QAAQ,CAAC;QACvD,IAAIsB,UAAU;QAEd,IAAI,CAACH,gBAAgB,EAAE;UACrBC,YAAY,CAACJ,OAAO,CAAChB,QAAQ,EAAEuB,IAAI,CAACC,SAAS,CAACvB,YAAY,CAAC,CAAC;UAC5DqB,UAAU,GAAGrB,YAAY;QAC3B,CAAC,MAAM;UACLqB,UAAU,GAAGC,IAAI,CAACE,KAAK,CAACN,gBAAgB,CAAC;QAC3C;QAEAH,OAAO,CAACM,UAAU,CAAC;QACnBR,UAAU,CAAC,KAAK,CAAC;QACjBL,kBAAkB,CAAC,IAAI,CAAC;MAC1B,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdC,QAAQ,CAACD,KAAK,CAAC;MACjB;IACF,CAAC,EAAE,IAAI,CAAC;EACV,CAAC,EAAE,CAACH,eAAe,CAAC,CAAC;EAErB,MAAMkB,QAAQ,GAAIC,OAAO,IAAK;IAC5B,IAAI;MACF,MAAMC,eAAe,GAAGL,IAAI,CAACC,SAAS,CAACG,OAAO,CAAC;MAC/CP,YAAY,CAACJ,OAAO,CAAChB,QAAQ,EAAE4B,eAAe,CAAC;MAC/CZ,OAAO,CAACW,OAAO,CAAC;IAClB,CAAC,CAAC,OAAOhB,KAAK,EAAE;MACdC,QAAQ,CAACD,KAAK,CAAC;IACjB;EACF,CAAC;EAED,MAAMkB,cAAc,GAAGA,CAAA,KAAM;IAC3Bf,UAAU,CAAC,IAAI,CAAC;IAChBL,kBAAkB,CAAC,KAAK,CAAC;EAC3B,CAAC;EAED,OAAO;IACLM,IAAI;IACJW,QAAQ;IACRb,OAAO;IACPF,KAAK;IACLkB;EACF,CAAC;AACH;AAAC3B,EAAA,CApDQH,eAAe;AAsDxB,SAASA,eAAe;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}